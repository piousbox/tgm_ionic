(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{OmU8:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){return function(){}}()},dzdC:function(n,l,t){"use strict";var e=t("trD+"),u=t("CcnG"),i=t("Ip0R"),r=function(){function n(n){this.sanitizer=n}return n.prototype.transform=function(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)},n}(),o=t("ZYjt"),c=function(){function n(){}return n.prototype.transform=function(n){return"https://www.youtube.com/embed/"+n},n}();t("vfvV"),t("e8Qb"),t("9opb"),t("HNzf"),t("ZYCi"),t("t/Na"),t("P87I"),t("y2f/"),t.d(l,"a",function(){return a}),t.d(l,"b",function(){return C});var a=u.ob({encapsulation:0,styles:[e.a],data:{}});function s(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,8,"div",[],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.qb(2,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.qb(3,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.qb(4,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),u.Gb(-1,null,["Loading..."])),(n()(),u.qb(6,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.qb(7,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.qb(8,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function p(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,1,"video",[["controls",""],["height","auto"],["preload","metadata"],["width","100%"]],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,1,0,u.sb(1,"",l.parent.parent.context.$implicit.url,""))})}function b(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,2,"iframe",[["allow","autoplay; encrypted-media"],["allowfullscreen",""],["class","iframe"],["frameborder","0"],["height","315"],["width","100%"]],[[8,"src",5]],null,null,null,null)),u.Db(1,1),u.Db(2,1)],null,function(n,l){var t=u.Hb(l,0,0,n(l,2,0,u.Ab(l.parent.parent.parent,0),u.Hb(l,0,0,n(l,1,0,u.Ab(l.parent.parent.parent,1),l.parent.parent.context.$implicit.youtube_id))));n(l,0,0,t)})}function g(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,1,"span",[["class","tags"]],null,null,null,null,null)),(n()(),u.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.context.$implicit.name)})}function f(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,23,"div",[["class","newsitems-video"]],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,4,"div",[["class","image-section"]],null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,p)),u.pb(3,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,b)),u.pb(5,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.qb(6,0,null,null,17,"div",[],null,null,null,null,null)),(n()(),u.qb(7,0,null,null,3,"p",[["class","title"]],null,null,null,null,null)),(n()(),u.qb(8,0,null,null,0,"img",[["class","icon"]],[[8,"src",4]],null,null,null,null)),(n()(),u.qb(9,0,null,null,1,"span",[["class","title-heading"]],null,null,null,null,null)),(n()(),u.Gb(10,null,["",""])),(n()(),u.qb(11,0,null,null,10,"p",[["class","info"]],null,null,null,null,null)),(n()(),u.qb(12,0,null,null,1,"span",[["class","date"]],null,null,null,null,null)),(n()(),u.Gb(13,null,[" "," "])),(n()(),u.Gb(-1,null,[" by "])),(n()(),u.qb(15,0,null,null,1,"span",[["class","user"]],null,null,null,null,null)),(n()(),u.Gb(16,null,[" "," "])),(n()(),u.Gb(-1,null,[" in "])),(n()(),u.qb(18,0,null,null,1,"span",[["class","city"]],null,null,null,null,null)),(n()(),u.Gb(19,null,[" "," "])),(n()(),u.hb(16777216,null,null,1,null,g)),u.pb(21,278528,null,0,i.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.qb(22,0,null,null,1,"p",[["class","description"]],null,null,null,null,null)),(n()(),u.Gb(23,null,[" "," "]))],function(n,l){n(l,3,0,!l.parent.context.$implicit.youtube_id),n(l,5,0,l.parent.context.$implicit.youtube_id),n(l,21,0,l.parent.context.$implicit.tags)},function(n,l){n(l,8,0,l.component.getIconUrl(l.parent.context.$implicit.is_premium,l.parent.context.$implicit.premium_tier,l.parent.context.$implicit.item_type)),n(l,10,0,l.parent.context.$implicit.name);var t=l.parent.context.$implicit.created_at.substring(0,10);n(l,13,0,t),n(l,16,0,l.parent.context.$implicit.username),n(l,19,0,l.parent.context.$implicit.cityname),n(l,23,0,l.parent.context.$implicit.description)})}function m(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u.Gb(1,null,[" by "," "]))],null,function(n,l){n(l,1,0,l.parent.parent.context.$implicit.username)})}function d(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u.Gb(1,null,[" in "," "]))],null,function(n,l){n(l,1,0,l.parent.parent.context.$implicit.cityname)})}function h(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,1,"span",[["class","tags"]],null,null,null,null,null)),(n()(),u.Gb(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.context.$implicit.name)})}function v(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,16,"div",[["class","newsitems-report"]],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),u.qb(2,0,null,null,3,"p",[["class","title"]],null,null,null,null,null)),(n()(),u.qb(3,0,null,null,0,"img",[["class","icon"]],[[8,"src",4]],null,null,null,null)),(n()(),u.qb(4,0,null,null,1,"span",[["class","title-heading"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigateToReport(n.parent.context.$implicit.reportname)&&e),e},null,null)),(n()(),u.Gb(5,null,["",""])),(n()(),u.qb(6,0,null,null,8,"p",[["class","info"]],null,null,null,null,null)),(n()(),u.qb(7,0,null,null,1,"span",[["class","date"]],null,null,null,null,null)),(n()(),u.Gb(8,null,[" "," "])),(n()(),u.hb(16777216,null,null,1,null,m)),u.pb(10,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,d)),u.pb(12,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,h)),u.pb(14,278528,null,0,i.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.qb(15,0,null,null,1,"p",[["class","description"]],null,null,null,null,null)),(n()(),u.Gb(16,null,[" "," "]))],function(n,l){n(l,10,0,l.parent.context.$implicit.username),n(l,12,0,l.parent.context.$implicit.cityname),n(l,14,0,l.parent.context.$implicit.tags)},function(n,l){n(l,3,0,l.component.getIconUrl(l.parent.context.$implicit.is_premium,l.parent.context.$implicit.premium_tier,l.parent.context.$implicit.item_type)),n(l,5,0,l.parent.context.$implicit.name);var t=l.parent.context.$implicit.created_at.substring(0,10);n(l,8,0,t),n(l,16,0,l.parent.context.$implicit.description)})}function y(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,1,"div",[["class","number"]],null,null,null,null,null)),(n()(),u.Gb(1,null,["+",""]))],null,function(n,l){n(l,1,0,l.parent.parent.parent.context.$implicit.photos.length-3)})}function O(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,5,"div",[["class","grid-item"]],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,4,"div",[["class","image-item"]],null,null,null,null,null)),u.pb(2,278528,null,0,i.m,[u.t,u.k,u.D],{ngStyle:[0,"ngStyle"]},null),u.Cb(3,{"background-image":0}),(n()(),u.hb(16777216,null,null,1,null,y)),u.pb(5,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=n(l,3,0,"url("+l.context.$implicit.large_url+")");n(l,2,0,t),n(l,5,0,l.parent.parent.context.$implicit.photos.length>3&&2==l.context.index)},null)}function w(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,1,"span",[["class","tags"]],null,null,null,null,null)),(n()(),u.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.context.$implicit.name)})}function x(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,22,"div",[["class","newsitems-gallery"]],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,3,"div",[["class","image-section"]],null,null,null,null,null)),(n()(),u.qb(2,0,null,null,2,"div",[["class","gallery"]],null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,O)),u.pb(4,278528,null,0,i.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.qb(5,0,null,null,17,"div",[],null,null,null,null,null)),(n()(),u.qb(6,0,null,null,3,"p",[["class","title"]],null,null,null,null,null)),(n()(),u.qb(7,0,null,null,0,"img",[["class","icon"]],[[8,"src",4]],null,null,null,null)),(n()(),u.qb(8,0,null,null,1,"span",[["class","title-heading"]],null,null,null,null,null)),(n()(),u.Gb(9,null,["",""])),(n()(),u.qb(10,0,null,null,10,"p",[["class","info"]],null,null,null,null,null)),(n()(),u.qb(11,0,null,null,1,"span",[["class","date"]],null,null,null,null,null)),(n()(),u.Gb(12,null,[" "," "])),(n()(),u.Gb(-1,null,[" by "])),(n()(),u.qb(14,0,null,null,1,"span",[["class","user"]],null,null,null,null,null)),(n()(),u.Gb(15,null,[" "," "])),(n()(),u.Gb(-1,null,[" in "])),(n()(),u.qb(17,0,null,null,1,"span",[["class","city"]],null,null,null,null,null)),(n()(),u.Gb(18,null,[" "," "])),(n()(),u.hb(16777216,null,null,1,null,w)),u.pb(20,278528,null,0,i.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.qb(21,0,null,null,1,"p",[["class","description"]],null,null,null,null,null)),(n()(),u.Gb(22,null,[" "," "]))],function(n,l){var t=l.parent.context.$implicit.photos?l.parent.context.$implicit.photos.slice(0,3):u.db;n(l,4,0,t),n(l,20,0,l.parent.context.$implicit.tags)},function(n,l){n(l,7,0,l.component.getIconUrl(l.parent.context.$implicit.is_premium,l.parent.context.$implicit.premium_tier,l.parent.context.$implicit.item_type)),n(l,9,0,l.parent.context.$implicit.name);var t=l.parent.context.$implicit.created_at.substring(0,10);n(l,12,0,t),n(l,15,0,l.parent.context.$implicit.username),n(l,18,0,l.parent.context.$implicit.cityname),n(l,22,0,l.parent.context.$implicit.description)})}function _(n){return u.Ib(0,[(n()(),u.qb(0,0,null,null,8,"div",[["class","items premium-0 "]],null,null,null,null,null)),u.pb(1,278528,null,0,i.h,[u.s,u.t,u.k,u.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Cb(2,{"premium-1":0,"premium-2":1}),(n()(),u.hb(16777216,null,null,1,null,f)),u.pb(4,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,v)),u.pb(6,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,x)),u.pb(8,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=n(l,2,0,1===l.context.$implicit.premium_tier,2===l.context.$implicit.premium_tier);n(l,1,0,"items premium-0 ",t),n(l,4,0,"video"==l.context.$implicit.item_type),n(l,6,0,"report"==l.context.$implicit.item_type),n(l,8,0,"gallery"==l.context.$implicit.item_type)},null)}function C(n){return u.Ib(0,[u.Bb(0,r,[o.b]),u.Bb(0,c,[]),(n()(),u.hb(16777216,null,null,1,null,s)),u.pb(3,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.qb(4,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,_)),u.pb(6,278528,null,0,i.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,3,0,!t.newsitems||0==t.newsitems.length),n(l,6,0,t.newsitems)},null)}},"trD+":function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=[".wrapper[_ngcontent-%COMP%]{background:#f4f4f4;padding-bottom:10em}div.container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-pack:center;justify-content:center;overflow:scroll;margin:auto;max-width:44em}.hero-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.hero[_ngcontent-%COMP%]{background:url(hero.9479dede9fb2d10c572e.png) 0 0/cover;width:400px;height:180px}div.items[_ngcontent-%COMP%]{box-shadow:-.2em .3em .4em #bfb4b4;flex-basis:100%;padding:1em;margin:.7em;background-size:100%;background-position:bottom;background-repeat:no-repeat}div.items[_ngcontent-%COMP%]   img.image[_ngcontent-%COMP%]{max-width:100%;border-radius:.7em}div.items[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:1.9em}div.items[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{display:grid;grid-gap:.2em;grid-template-columns:25% 25% 25%}div.items[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]{position:relative;padding-top:100%;overflow:hidden;z-index:10;background-position:center;background-size:cover;background-repeat:no-repeat}div.items[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   div.number[_ngcontent-%COMP%]{top:0;position:absolute;width:100%;height:100%;background:#57535380;font-size:1.5em;color:#fff;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}div.items[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute}div.items[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]:first-of-type{grid-row:1/3;grid-column:1/3}div.items[_ngcontent-%COMP%]   .title-heading[_ngcontent-%COMP%]{padding:1em;vertical-align:super;font-size:1.2em}div.items[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-size:.8em}div.items[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%], div.items[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{color:#378ff9;font-weight:600;font-style:italic}div.items[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{border:.1em solid #378ff9;border-radius:1.5em;padding:.5em 1em;margin:1em 1em 0 0;display:inline-block}div.items[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:1em;font-weight:unset}.image-section[_ngcontent-%COMP%]{position:relative}.play-icon[_ngcontent-%COMP%]{color:#fff;position:absolute;top:50%;left:50%;font-size:3.12em;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.premium-0[_ngcontent-%COMP%]{background:#fff}.premium-1[_ngcontent-%COMP%]{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,.7)),to(rgba(255,255,255,.7))),url(sunglass-background.082db0f50ba9587fdfe7.png);background-image:linear-gradient(rgba(255,255,255,.7),rgba(255,255,255,.7)),url(sunglass-background.082db0f50ba9587fdfe7.png)}.premium-2[_ngcontent-%COMP%]{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,.7)),to(rgba(255,255,255,.7))),url(lock-background.b4ff98de1c33cc0ea77c.png);background-image:linear-gradient(rgba(255,255,255,.7),rgba(255,255,255,.7)),url(lock-background.b4ff98de1c33cc0ea77c.png)}"]},vfvV:function(n,l,t){"use strict";t.d(l,"a",function(){return c}),t("y2f/"),t("OO+k"),t("HNzf");var e=t("J/mm"),u=(t("e8Qb"),t("f+iR")),i=t("wTWE"),r=function(n,l,t,e){return new(t||(t=Promise))(function(u,i){function r(n){try{c(e.next(n))}catch(l){i(l)}}function o(n){try{c(e.throw(n))}catch(l){i(l)}}function c(n){n.done?u(n.value):new t(function(l){l(n.value)}).then(r,o)}c((e=e.apply(n,l||[])).next())})},o=function(n,l){var t,e,u,i,r={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,e&&(u=2&i[0]?e.return:i[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,i[1])).done)return u;switch(e=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,e=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(u=(u=r.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){r.label=i[1];break}if(6===i[0]&&r.label<u[1]){r.label=u[1],u=i;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(i);break}u[2]&&r.ops.pop(),r.trys.pop();continue}i=l.call(n,r)}catch(o){i=[6,o],e=0}finally{t=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},c=function(){function n(n,l,t,e,u,i,r){this.appService=n,this.modalController=l,this.nativeStorage=t,this.router=e,this.httpClient=u,this.toastController=i,this.splashScreen=r,this.newsitems=[],this.ngOnInit()}return n.prototype.ngOnInit=function(){return r(this,void 0,void 0,function(){return o(this,function(n){return this.splashScreen.hide(),[2]})})},n.prototype.showGallery=function(n){return r(this,void 0,void 0,function(){return o(this,function(l){switch(l.label){case 0:return Object(u.b)(n,"showGallery()"),[4,this.modalController.create({component:i.a,componentProps:{slug:n}})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n.prototype.navigateToReport=function(n){this.router.navigate([e.b.reportPath(n)])},n.prototype.navigateToVideo=function(n){this.router.navigate([e.b.videoPath(n)])},n.prototype.getIconUrl=function(n,l,t){if(!n)switch(t){case"video":return"../../assets/newsfeed/Videos Icon.svg";case"report":return"../../assets/newsfeed/Reports Icon.png";case"gallery":return"../../assets/newsfeed/Photos Icon.png"}return 1===l?"../../assets/newsfeed/Sunglass.png":2===l?"../../assets/newsfeed/Gem Premium.png":void 0},n}()},wTWE:function(n,l,t){"use strict";t.d(l,"a",function(){return c});var e=t("t/Na"),u=(t("OO+k"),t("HNzf"),t("J/mm")),i=(t("e8Qb"),t("f+iR")),r=function(n,l,t,e){return new(t||(t=Promise))(function(u,i){function r(n){try{c(e.next(n))}catch(l){i(l)}}function o(n){try{c(e.throw(n))}catch(l){i(l)}}function c(n){n.done?u(n.value):new t(function(l){l(n.value)}).then(r,o)}c((e=e.apply(n,l||[])).next())})},o=function(n,l){var t,e,u,i,r={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,e&&(u=2&i[0]?e.return:i[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,i[1])).done)return u;switch(e=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,e=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(u=(u=r.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){r.label=i[1];break}if(6===i[0]&&r.label<u[1]){r.label=u[1],u=i;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(i);break}u[2]&&r.ops.pop(),r.trys.pop();continue}i=l.call(n,r)}catch(o){i=[6,o],e=0}finally{t=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},c=function(){function n(n,l,t,e){this.appService=n,this.httpClient=l,this.modalController=t,this.nativeStorage=e,this.gallery=!1,this.slug&&this.ngOnInit()}return n.prototype.ngOnInit=function(){return r(this,void 0,void 0,function(){var n,l;return o(this,function(t){switch(t.label){case 0:return Object(i.b)(this.slug,"GalleriesShow ngOnInit() slug"),this.slug?[4,this.nativeStorage.getItem("current_user").then(function(n){return JSON.parse(n)}).then(function(n){return(new e.g).set("accessToken",n.longTermToken)}).catch(function(n){return{}})]:[3,3];case 1:return n=t.sent(),[4,this.httpClient.get(u.a.galleriesShow(this.slug),{params:n}).toPromise()];case 2:l=t.sent(),this.gallery=l.gallery,t.label=3;case 3:return[2]}})})},n.prototype.purchase=function(){return r(this,void 0,void 0,function(){var n,l,t=this;return o(this,function(r){switch(r.label){case 0:return[4,this.nativeStorage.getItem("current_user").then(function(n){return JSON.parse(n)}).then(function(n){return(new e.g).set("accessToken",n.longTermToken).set("className","Gallery").set("slug",t.slug)}).catch(function(n){throw"this cannot happen"})];case 1:return n=r.sent(),[4,this.httpClient.post(u.a.doPurchase,n).toPromise()];case 2:return l=r.sent(),Object(i.b)(l,"a12 - answer"),[2]}})})},n}()}}]);